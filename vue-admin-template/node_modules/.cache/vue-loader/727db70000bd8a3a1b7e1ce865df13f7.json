{"remainingRequest":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/components/CountTo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/components/CountTo/index.vue","mtime":1701927628600},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1700932421620},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1700932421115},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1700932421620},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":1700932427812}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVlc3RBbmltYXRpb25GcmFtZSwgY2FuY2VsQW5pbWF0aW9uRnJhbWUgfSBmcm9tICcuL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcycKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBzdGFydFZhbDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBlbmRWYWw6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IDIwMTcsCiAgICB9LAogICAgZHVyYXRpb246IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IDMwMDAsCiAgICB9LAogICAgYXV0b3BsYXk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICAgIGRlY2ltYWxzOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAwLAogICAgICB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgPj0gMAogICAgICB9LAogICAgfSwKICAgIGRlY2ltYWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcuJywKICAgIH0sCiAgICBzZXBhcmF0b3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcsJywKICAgIH0sCiAgICBwcmVmaXg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIHN1ZmZpeDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogICAgdXNlRWFzaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICBlYXNpbmdGbjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdCh0LCBiLCBjLCBkKSB7CiAgICAgICAgcmV0dXJuIChjICogKC1NYXRoLnBvdygyLCAoLTEwICogdCkgLyBkKSArIDEpICogMTAyNCkgLyAxMDIzICsgYgogICAgICB9LAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhbFN0YXJ0VmFsOiB0aGlzLnN0YXJ0VmFsLAogICAgICBkaXNwbGF5VmFsdWU6IHRoaXMuZm9ybWF0TnVtYmVyKHRoaXMuc3RhcnRWYWwpLAogICAgICBwcmludFZhbDogbnVsbCwKICAgICAgcGF1c2VkOiBmYWxzZSwKICAgICAgbG9jYWxEdXJhdGlvbjogdGhpcy5kdXJhdGlvbiwKICAgICAgc3RhcnRUaW1lOiBudWxsLAogICAgICB0aW1lc3RhbXA6IG51bGwsCiAgICAgIHJlbWFpbmluZzogbnVsbCwKICAgICAgckFGOiBudWxsLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvdW50RG93bigpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RhcnRWYWwgPiB0aGlzLmVuZFZhbAogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBzdGFydFZhbCgpIHsKICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHsKICAgICAgICB0aGlzLnN0YXJ0KCkKICAgICAgfQogICAgfSwKICAgIGVuZFZhbCgpIHsKICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHsKICAgICAgICB0aGlzLnN0YXJ0KCkKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5hdXRvcGxheSkgewogICAgICB0aGlzLnN0YXJ0KCkKICAgIH0KICAgIHRoaXMuJGVtaXQoJ21vdW50ZWRDYWxsYmFjaycpCiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydCgpIHsKICAgICAgdGhpcy5sb2NhbFN0YXJ0VmFsID0gdGhpcy5zdGFydFZhbAogICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGwKICAgICAgdGhpcy5sb2NhbER1cmF0aW9uID0gdGhpcy5kdXJhdGlvbgogICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlCiAgICAgIHRoaXMuckFGID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuY291bnQpCiAgICB9LAogICAgcGF1c2VSZXN1bWUoKSB7CiAgICAgIGlmICh0aGlzLnBhdXNlZCkgewogICAgICAgIHRoaXMucmVzdW1lKCkKICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXVzZSgpCiAgICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBwYXVzZSgpIHsKICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yQUYpCiAgICB9LAogICAgcmVzdW1lKCkgewogICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGwKICAgICAgdGhpcy5sb2NhbER1cmF0aW9uID0gK3RoaXMucmVtYWluaW5nCiAgICAgIHRoaXMubG9jYWxTdGFydFZhbCA9ICt0aGlzLnByaW50VmFsCiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmNvdW50KQogICAgfSwKICAgIHJlc2V0KCkgewogICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGwKICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yQUYpCiAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy5mb3JtYXROdW1iZXIodGhpcy5zdGFydFZhbCkKICAgIH0sCiAgICBjb3VudCh0aW1lc3RhbXApIHsKICAgICAgaWYgKCF0aGlzLnN0YXJ0VGltZSkgdGhpcy5zdGFydFRpbWUgPSB0aW1lc3RhbXAKICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXAKICAgICAgY29uc3QgcHJvZ3Jlc3MgPSB0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZQogICAgICB0aGlzLnJlbWFpbmluZyA9IHRoaXMubG9jYWxEdXJhdGlvbiAtIHByb2dyZXNzCgogICAgICBpZiAodGhpcy51c2VFYXNpbmcpIHsKICAgICAgICBpZiAodGhpcy5jb3VudERvd24pIHsKICAgICAgICAgIHRoaXMucHJpbnRWYWwgPQogICAgICAgICAgICB0aGlzLmxvY2FsU3RhcnRWYWwgLQogICAgICAgICAgICB0aGlzLmVhc2luZ0ZuKHByb2dyZXNzLCAwLCB0aGlzLmxvY2FsU3RhcnRWYWwgLSB0aGlzLmVuZFZhbCwgdGhpcy5sb2NhbER1cmF0aW9uKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnByaW50VmFsID0gdGhpcy5lYXNpbmdGbigKICAgICAgICAgICAgcHJvZ3Jlc3MsCiAgICAgICAgICAgIHRoaXMubG9jYWxTdGFydFZhbCwKICAgICAgICAgICAgdGhpcy5lbmRWYWwgLSB0aGlzLmxvY2FsU3RhcnRWYWwsCiAgICAgICAgICAgIHRoaXMubG9jYWxEdXJhdGlvbiwKICAgICAgICAgICkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuY291bnREb3duKSB7CiAgICAgICAgICB0aGlzLnByaW50VmFsID0KICAgICAgICAgICAgdGhpcy5sb2NhbFN0YXJ0VmFsIC0KICAgICAgICAgICAgKHRoaXMubG9jYWxTdGFydFZhbCAtIHRoaXMuZW5kVmFsKSAqIChwcm9ncmVzcyAvIHRoaXMubG9jYWxEdXJhdGlvbikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wcmludFZhbCA9CiAgICAgICAgICAgIHRoaXMubG9jYWxTdGFydFZhbCArCiAgICAgICAgICAgICh0aGlzLmVuZFZhbCAtIHRoaXMubG9jYWxTdGFydFZhbCkgKiAocHJvZ3Jlc3MgLyB0aGlzLmxvY2FsRHVyYXRpb24pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmNvdW50RG93bikgewogICAgICAgIHRoaXMucHJpbnRWYWwgPSB0aGlzLnByaW50VmFsIDwgdGhpcy5lbmRWYWwgPyB0aGlzLmVuZFZhbCA6IHRoaXMucHJpbnRWYWwKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByaW50VmFsID0gdGhpcy5wcmludFZhbCA+IHRoaXMuZW5kVmFsID8gdGhpcy5lbmRWYWwgOiB0aGlzLnByaW50VmFsCiAgICAgIH0KCiAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy5mb3JtYXROdW1iZXIodGhpcy5wcmludFZhbCkKICAgICAgaWYgKHByb2dyZXNzIDwgdGhpcy5sb2NhbER1cmF0aW9uKSB7CiAgICAgICAgdGhpcy5yQUYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5jb3VudCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdjYWxsYmFjaycpCiAgICAgIH0KICAgIH0sCiAgICBpc051bWJlcih2YWwpIHsKICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KHZhbCkpCiAgICB9LAogICAgZm9ybWF0TnVtYmVyKG51bSkgewogICAgICBudW0gPSBudW0udG9GaXhlZCh0aGlzLmRlY2ltYWxzKQogICAgICBudW0gKz0gJycKICAgICAgY29uc3QgeCA9IG51bS5zcGxpdCgnLicpCiAgICAgIGxldCB4MSA9IHhbMF0KICAgICAgY29uc3QgeDIgPSB4Lmxlbmd0aCA+IDEgPyB0aGlzLmRlY2ltYWwgKyB4WzFdIDogJycKICAgICAgY29uc3Qgcmd4ID0gLyhcZCspKFxkezN9KS8KICAgICAgaWYgKHRoaXMuc2VwYXJhdG9yICYmICF0aGlzLmlzTnVtYmVyKHRoaXMuc2VwYXJhdG9yKSkgewogICAgICAgIHdoaWxlIChyZ3gudGVzdCh4MSkpIHsKICAgICAgICAgIHgxID0geDEucmVwbGFjZShyZ3gsICckMScgKyB0aGlzLnNlcGFyYXRvciArICckMicpCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnByZWZpeCArIHgxICsgeDIgKyB0aGlzLnN1ZmZpeAogICAgfSwKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuckFGKQogIH0sCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/CountTo","sourcesContent":["<template>\n  <span>\n    {{ displayValue }}\n  </span>\n</template>\n<script>\n  import { requestAnimationFrame, cancelAnimationFrame } from './requestAnimationFrame.js'\n  export default {\n    props: {\n      startVal: {\n        type: Number,\n        required: false,\n        default: 0,\n      },\n      endVal: {\n        type: Number,\n        required: false,\n        default: 2017,\n      },\n      duration: {\n        type: Number,\n        required: false,\n        default: 3000,\n      },\n      autoplay: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      decimals: {\n        type: Number,\n        required: false,\n        default: 0,\n        validator(value) {\n          return value >= 0\n        },\n      },\n      decimal: {\n        type: String,\n        required: false,\n        default: '.',\n      },\n      separator: {\n        type: String,\n        required: false,\n        default: ',',\n      },\n      prefix: {\n        type: String,\n        required: false,\n        default: '',\n      },\n      suffix: {\n        type: String,\n        required: false,\n        default: '',\n      },\n      useEasing: {\n        type: Boolean,\n        required: false,\n        default: true,\n      },\n      easingFn: {\n        type: Function,\n        default(t, b, c, d) {\n          return (c * (-Math.pow(2, (-10 * t) / d) + 1) * 1024) / 1023 + b\n        },\n      },\n    },\n    data() {\n      return {\n        localStartVal: this.startVal,\n        displayValue: this.formatNumber(this.startVal),\n        printVal: null,\n        paused: false,\n        localDuration: this.duration,\n        startTime: null,\n        timestamp: null,\n        remaining: null,\n        rAF: null,\n      }\n    },\n    computed: {\n      countDown() {\n        return this.startVal > this.endVal\n      },\n    },\n    watch: {\n      startVal() {\n        if (this.autoplay) {\n          this.start()\n        }\n      },\n      endVal() {\n        if (this.autoplay) {\n          this.start()\n        }\n      },\n    },\n    mounted() {\n      if (this.autoplay) {\n        this.start()\n      }\n      this.$emit('mountedCallback')\n    },\n    methods: {\n      start() {\n        this.localStartVal = this.startVal\n        this.startTime = null\n        this.localDuration = this.duration\n        this.paused = false\n        this.rAF = requestAnimationFrame(this.count)\n      },\n      pauseResume() {\n        if (this.paused) {\n          this.resume()\n          this.paused = false\n        } else {\n          this.pause()\n          this.paused = true\n        }\n      },\n      pause() {\n        cancelAnimationFrame(this.rAF)\n      },\n      resume() {\n        this.startTime = null\n        this.localDuration = +this.remaining\n        this.localStartVal = +this.printVal\n        requestAnimationFrame(this.count)\n      },\n      reset() {\n        this.startTime = null\n        cancelAnimationFrame(this.rAF)\n        this.displayValue = this.formatNumber(this.startVal)\n      },\n      count(timestamp) {\n        if (!this.startTime) this.startTime = timestamp\n        this.timestamp = timestamp\n        const progress = timestamp - this.startTime\n        this.remaining = this.localDuration - progress\n\n        if (this.useEasing) {\n          if (this.countDown) {\n            this.printVal =\n              this.localStartVal -\n              this.easingFn(progress, 0, this.localStartVal - this.endVal, this.localDuration)\n          } else {\n            this.printVal = this.easingFn(\n              progress,\n              this.localStartVal,\n              this.endVal - this.localStartVal,\n              this.localDuration,\n            )\n          }\n        } else {\n          if (this.countDown) {\n            this.printVal =\n              this.localStartVal -\n              (this.localStartVal - this.endVal) * (progress / this.localDuration)\n          } else {\n            this.printVal =\n              this.localStartVal +\n              (this.endVal - this.localStartVal) * (progress / this.localDuration)\n          }\n        }\n        if (this.countDown) {\n          this.printVal = this.printVal < this.endVal ? this.endVal : this.printVal\n        } else {\n          this.printVal = this.printVal > this.endVal ? this.endVal : this.printVal\n        }\n\n        this.displayValue = this.formatNumber(this.printVal)\n        if (progress < this.localDuration) {\n          this.rAF = requestAnimationFrame(this.count)\n        } else {\n          this.$emit('callback')\n        }\n      },\n      isNumber(val) {\n        return !isNaN(parseFloat(val))\n      },\n      formatNumber(num) {\n        num = num.toFixed(this.decimals)\n        num += ''\n        const x = num.split('.')\n        let x1 = x[0]\n        const x2 = x.length > 1 ? this.decimal + x[1] : ''\n        const rgx = /(\\d+)(\\d{3})/\n        if (this.separator && !this.isNumber(this.separator)) {\n          while (rgx.test(x1)) {\n            x1 = x1.replace(rgx, '$1' + this.separator + '$2')\n          }\n        }\n        return this.prefix + x1 + x2 + this.suffix\n      },\n    },\n    destroyed() {\n      cancelAnimationFrame(this.rAF)\n    },\n  }\n</script>\n"]}]}