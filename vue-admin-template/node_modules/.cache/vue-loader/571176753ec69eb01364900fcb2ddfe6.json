{"remainingRequest":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/views/patientManage/compaints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/views/patientManage/compaints.vue","mtime":1702211791674},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1702214739870},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1702214743160},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1702214739870},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":1702214743778}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICd1c2VydHlwZScKICAgIF0pCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkQ29tcGxhaW50Rm9ybVZpc2libGU6IGZhbHNlLAogICAgICBwYWdlTnVtOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgY29tcGxhaW50TGlzdDogW10sCiAgICAgIGNvbXBsYWludFBhdGllbnRMaXN0OiBbXSwKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICB0b3RhbDogMTAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBwYXRpZW50TGlzdDogW10sCiAgICAgIGZvcm06IHt9LAogICAgICBuZXdDb21wbGFpbnRGb3JtOiB7CiAgICAgICAgcGF0aWVudF9pZDogJycsCiAgICAgICAgcGF0aWVudF9uYW1lOiAnJywKICAgICAgICBjb21wbGFpbnRfZGF0ZTogJycsCiAgICAgICAgY29udGVudHM6ICcnCiAgICAgIH0sCiAgICAgIGFjdGl2ZU5hbWU6ICdzZWNvbmQnLAogICAgICBzZWFyY2hOYW1lOiAnJywKICAgICAgSW5kZXg6ICcnLAogICAgICB0ZXh0YXJlYTogJycKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbXBsYWludExpc3QgPSB7CiAgICAgICd0aXR0bGUnOiAn5Yy76Zmi5oKj6ICF5oqV6K+J5aSE55CG5rWB56iLJywKICAgICAgJ3N1YmhlYWRpbmcnOiAn5Li65pyJ5pWI6Kej5Yaz5ZCE57G75oqV6K+J6Zeu6aKY77yM56Gu5L+d5YWs5rCR55qE5ZCI5rOV5p2D55uK5b6X5Yiw5aal5ZaE5L+d6Zqc77yM5o6o5Yqo5Yy76Zmi5pyN5Yqh5rC05bmz5LiN5pat5o+Q5Y2H77yM5pyN5Yqh6LSo6YeP5LiN5pat5o+Q6auY77yM57u05oqk5Yy76Zmi6Imv5aW95b2i6LGh44CC5qC55o2u55u45YWz5rOV5b6L5rOV6KeE5ZKM5Yy755aX566h55CG5Yi25bqm77yM57uT5ZCI5Yy76Zmi55qE5a6e6ZmF5oOF5Ya177yM5Yi26K6i5LqG5a6M5ZaE55qE5oqV6K+J5aSE55CG5Yi25bqm44CCJywKICAgICAgJ3dheXMnOiBbJ+WMu+mZouaKleivieebkeedo+eUteivnSgwNTExLTg4NjE5MDkyKeOAgeWMu+mZoueUteWtkOmCrueusSh6anp5eWRiQDE2My5jb20p77yM5Yy76Zmi5YWs5LyX5Zy65omA55qE5oSP6KeB5oqV6K+J566x77yM5ZCE57O757uf44CB56eR5a6k44CB54+t57uE5oSP6KeB6JaEKOacrCnjgIInLCAn5bu656uL6Zmi5oC75YC854+t5Yi25bqm77yM5oCl6K+K5pyf6Ze05o6l5b6F5p2l6K6/44CB5Y+X55CG5oqV6K+J77yM5oqV6K+J55S16K+dKDE4OTA2MTAwMzk5KeOAgicsICfpmaLlip7lhazlrqTjgIHlhZrlp5Tlip7lhazlrqTkuLrnu7zlkIjmjqXlvoXlj5fnkIbjgIHljY/osIPmipXor4nnp5HlrqTvvIzlhbblroPogYzog73np5HlrqTlj5fnkIbogYzmnYPojIPlm7TlhoXnmoTmipXor4njgIInXSwKICAgICAgJ29mZmljZXMnOiBbJ+mXqOiviumDqO+8muWPl+eQhuW5tuWNj+iwg+ino+WGs+mXqOiviuaCo+iAheWvueS6juWMu+eUn+acjeWKoeaAgeW6puOAgeWMu+eWl+i0qOmHj+OAgeeJqeS7t+WMu+S/neetieaWuemdoueahOaKleivieOAguWPl+eQhuWcsOeCue+8muaAu+acjeWKoeWPsOOAgemXqOiviumDqOS4u+S7u+WKnuWFrOWupOOAguaKleivieeUteivnSgwNTExLTg4NjE5MDE144CBODg2MTkwMTYpJywgJ+mZouWKnuWFrOWupO+8muWPl+eQhuihjOaUv+S6i+WKoeS4jueuoeeQhuaWuemdoueahOaKleivieOAguaKleivieeUteivnSgwNTExLTg4NjE5MDkyKScsICflhZrlp5Tlip7lhazlrqTvvJrlj5fnkIbljLvlvrfljLvpo47jgIHogYzlt6Xov53op4Tov53nuqrmlrnpnaLnmoTmipXor4njgILmipXor4nnlLXor50gKDA1MTEtODg2MTkwOTMpJywgJ+S6uuS6i+enke+8muWPl+eQhuiBjOW3peWKs+WKqOe6quW+i+aWuemdoueahOaKleivieOAguaKleivieeUteivnSgwNTExLTg4NjE5MDkxKScsICfljLvmlZnnp5HvvJrlj5fnkIbljLvnlpfotKjph4/jgIHljLvnlpfnuqDnurfmlrnpnaLnmoTmipXor4njgILmipXor4nnlLXor50oMDUxMS04ODYxOTA4NSknLCAn5oqk55CG6YOo77ya5Y+X55CG5oqk55CG6LSo6YeP44CB5oqk55CG57qg57q35pa56Z2i55qE5oqV6K+J44CC5oqV6K+J55S16K+dKDA1MTEtODg2MTkwODkpJywgJ+i0ouWKoeenke+8muWPl+eQhuWMu+eWl+aUtui0ueiusOi0pizljLvnlpfnianku7fmlrnpnaLnmoTmipXor4njgILmipXor4nnlLXor50oMDUxMS04ODYxOTA4NyknLCAn5L+d5Y2r56eR77ya5Y+X55CG5Yy76Zmi5a6J5YWo5pa56Z2i55qE5oqV6K+J44CC5oqV6K+J55S16K+dKDA1MTEtODg2MTkwODYpJywgJ+aAu+WKoeenke+8muWPl+eQhuWQjuWLpOS/nemanOaWuemdoueahOaKleivieOAguaKleivieeUteivnSgwNTExLTg4NjE5MDkwKScsICflmajmorDnp5HvvJrlj5fnkIborr7lpIfnrqHnkIbmlrnpnaLnmoTmipXor4njgILmipXor4nnlLXor50oMDUxMS04ODYxOTA3NyknLCAn55a+5o6n56eR77ya5Y+X55CG6Zmi5YaF5oSf5p+T5pa56Z2i55qE5oqV6K+J44CC5oqV6K+J55S16K+dKDA1MTEtODg2MTkwODQpJywgJ+iNr+WJguenke+8muWPl+eQhuiNr+WTgei0qOmHj+OAgeS7t+agvOWPiuiNr+S6i+euoeeQhuaWuemdoueahOaKleivieOAguaKleivieeUteivnSgwNTExLTg4NjE5MDc4KScsICflkITns7vnu5/jgIHlkITnp5HlrqTlj5fnkIbmnKzns7vnu5/lkoznp5HlrqTojIPlm7TlhoXnmoTmipXor4njgIInLCAn5YW25a6D5bqU6K+l5Y+X55CG55qE5oqV6K+J6Zeu6aKY55Sx55u45bqU55qE6IGM6IO96YOo6Zeo5Y+X55CG44CCJ10KICAgIH0KICAgIHRoaXMuZ2V0Q29tcGFpbnRzTGlzdCgxKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0Q29tcGFpbnRzTGlzdChwYWdlciA9IDEpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlcgogICAgICBjb25zdCB7cGFnZU51bSwgcGFnZVNpemV9ID0gdGhpcwogICAgICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2hOYW1lCiAgICAgIGlmIChzZWFyY2ggPT09ICcnKSB7CiAgICAgICAgc2VhcmNoID0gJ05vbmUnCiAgICAgIH0KICAgICAgY29uc29sZS5sb2coc2VhcmNoKQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRBUEkuZmxvdy5maW5kQ29tcGFpbnRzKHBhZ2VOdW0sIHBhZ2VTaXplLCBzZWFyY2gpCiAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgdGhpcy5jb21wbGFpbnRQYXRpZW50TGlzdCA9IHJlcy5tc2cKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UobGltaXQpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IGxpbWl0CiAgICAgIHRoaXMuZ2V0Q29tcGFpbnRzTGlzdCgpCiAgICB9LAogICAgYXN5bmMgaGFuZGxlUmVwbHkoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kQVBJLmZsb3cudXBkYXRlQ29tcGFpbnRzKHRoaXMuZm9ybSkKICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAvLyDlhbPpl63ooajljZUKICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAvLyDmtojmga/mj5DnpLoKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8hJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0sIGF3YWl0IHRoaXMuZ2V0Q29tcGFpbnRzTGlzdCh0aGlzLmZvcm0uaWQgPyB0aGlzLnBhZ2VOdW0gOiAxKSkKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGhhbmRsZUFkZENvbXBsYWludCgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kQVBJLmZsb3cuYWRkQ29tcGFpbnRzKHRoaXMubmV3Q29tcGxhaW50Rm9ybSkKICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAvLyDlhbPpl63ooajljZUKICAgICAgICB0aGlzLmFkZENvbXBsYWludEZvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAvLyDmtojmga/mj5DnpLoKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8hJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0sIGF3YWl0IHRoaXMuZ2V0Q29tcGFpbnRzTGlzdCh0aGlzLmZvcm0uaWQgPyB0aGlzLnBhZ2VOdW0gOiAxKSkKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGRlbGV0ZVBhdGllbnQocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oYOS9oOehruWumuWIoOmZpCAke3Jvdy5wYXRpZW50X25hbWV9IOWQlz9gLCAn5Yig6ZmkJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLmZsb3cuZGVsQ29tcGFpbnRzKHJvdy5pZCkKICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9LCBhd2FpdCB0aGlzLmdldENvbXBhaW50c0xpc3QodGhpcy5jb21wbGFpbnRQYXRpZW50TGlzdC5sZW5ndGggPiAxID8gdGhpcy5wYWdlTnVtIDogdGhpcy5wYWdlTnVtIC0gMSkKICAgICAgICAgICkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5aSx6LSlLOivt+iBlOezu+ezu+e7n+i/kOe7tCEnCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgc2hvd0Zvcm0ocm93KSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuZm9ybSA9IHsuLi5yb3d9CiAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmZvcm0nKQogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["compaints.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"compaints.vue","sourceRoot":"src/views/patientManage","sourcesContent":["<template>\n  <div class=\"officeComplaint\">\n    <!-- Tabs 标签页 -->\n    <el-tabs v-model=\"activeName\">\n      <el-tab-pane label=\"投诉处理\" name=\"second\">\n        <div class=\"importants\">\n          <h1>{{ complaintList.tittle }}</h1>\n          <h3>{{ complaintList.subheading }}</h3>\n          <h2>一、投诉途径与渠道</h2>\n          <ol>\n            <li v-for=\"item in complaintList.ways\">{{ item }}</li>\n          </ol>\n          <h2>二、受理投诉的部门和范围</h2>\n          <ol>\n            <li v-for=\"item in complaintList.offices\">{{ item }}</li>\n          </ol>\n        </div>\n      </el-tab-pane>\n      <el-tab-pane label=\"患者留言\" name=\"first\">\n        <template>\n          <el-button v-if=\"usertype===1\" type=\"primary\" @click=\"addComplaintFormVisible = true\">新增投诉</el-button>\n          <el-table :header-cell-style=\"{background:'#f5f7fa',color:'#606266'}\" :data=\"complaintPatientList\" height=\"600\" border style=\"width: auto\">\n            <el-table-column type=\"expand\">\n              <template scope=\"props\">\n                <el-form :model=\"props.row\">\n                  <el-row>\n                    <el-col :span=\"24\">\n                      <el-form-item label=\"医生回复\">\n                        <span>{{ props.row.reply }}</span>\n                      </el-form-item>\n                    </el-col>\n                  </el-row>\n                  <el-row>\n                    <el-col :span=\"24\">\n                      <el-form-item label=\"处理结果\">\n                        <span>{{ props.row.results }}</span>\n                      </el-form-item>\n                    </el-col>\n                  </el-row>\n                </el-form>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"patient_id\" label=\"病例号\" width=\"180\"></el-table-column>\n            <el-table-column prop=\"patient_name\" label=\"患者姓名\" width=\"180\"></el-table-column>\n            <el-table-column prop=\"complaint_date\" label=\"投诉日期\" width=\"180\"></el-table-column>\n            <el-table-column prop=\"contents\" label=\"投诉内容\" width=\"300\"></el-table-column>\n            <el-table-column label=\"操作\">\n              <template v-slot=\"{row}\">\n                <el-button type=\"primary\" size=\"mini\" @click=\"showForm(row)\">回复</el-button>\n                <el-button size=\"small\" type=\"danger\" @click=\"deletePatient(row)\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-pagination\n            background\n            style=\"margin-top: 20px;text-align: center\"\n            :current-page=\"pageNum\"\n            :page-size=\"pageSize\"\n            :total=\"total\"\n            :pager-count=\"10\"\n            :page-sizes=\"[10,15,30]\"\n            layout=\"prev,pager,next,jumper,->,sizes,total\"\n            @current-change=\"getCompaintsList\"\n            @size-change=\"handleSizeChange\"\n          />\n          <!-- 对话框部分 -->\n          <el-dialog :title=\"'请书写回复内容'\" :visible.sync=\"dialogFormVisible\">\n            <el-form model=\"form\">\n              <el-form-item v-if=\"usertype===2\" label=\"回复\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"form.reply\" type=\"textarea\" :rows=\"15\" style=\"width: 300px;\"/>\n              </el-form-item>\n              <el-form-item v-if=\"usertype===1\" label=\"结果\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"form.results\" type=\"textarea\" :rows=\"15\" style=\"width: 300px;\"/>\n              </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n              <el-button type=\"primary\" @click=\"handleReply\">确定</el-button>\n            </div>\n          </el-dialog>\n          <!-- Complaint Form Dialog -->\n          <el-dialog :title=\"'新增投诉'\" :visible.sync=\"addComplaintFormVisible\">\n            <el-form :model=\"newComplaintForm\">\n              <el-form-item label=\"病例号\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"newComplaintForm.patient_id\"/>\n              </el-form-item>\n              <el-form-item label=\"患者姓名\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"newComplaintForm.patient_name\"/>\n              </el-form-item>\n              <el-form-item label=\"投诉日期\" :label-width=\"formLabelWidth\">\n                <el-date-picker v-model=\"newComplaintForm.complaint_date\" type=\"date\" placeholder=\"选择日期\"/>\n              </el-form-item>\n              <el-form-item label=\"投诉内容\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"newComplaintForm.contents\" type=\"textarea\" :rows=\"5\"/>\n              </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"addComplaintFormVisible = false\">取消</el-button>\n              <el-button type=\"primary\" @click=\"handleAddComplaint\">确定</el-button>\n            </div>\n          </el-dialog>\n        </template>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\n\nexport default {\n  computed: {\n    ...mapGetters([\n      'usertype'\n    ])\n  },\n  data() {\n    return {\n      addComplaintFormVisible: false,\n      pageNum: 1,\n      pageSize: 10,\n      dialogFormVisible: false,\n      complaintList: [],\n      complaintPatientList: [],\n      messages: [],\n      total: 10,\n      loading: false,\n      patientList: [],\n      form: {},\n      newComplaintForm: {\n        patient_id: '',\n        patient_name: '',\n        complaint_date: '',\n        contents: ''\n      },\n      activeName: 'second',\n      searchName: '',\n      Index: '',\n      textarea: ''\n    }\n  },\n  mounted() {\n    this.complaintList = {\n      'tittle': '医院患者投诉处理流程',\n      'subheading': '为有效解决各类投诉问题，确保公民的合法权益得到妥善保障，推动医院服务水平不断提升，服务质量不断提高，维护医院良好形象。根据相关法律法规和医疗管理制度，结合医院的实际情况，制订了完善的投诉处理制度。',\n      'ways': ['医院投诉监督电话(0511-88619092)、医院电子邮箱(zjzyydb@163.com)，医院公众场所的意见投诉箱，各系统、科室、班组意见薄(本)。', '建立院总值班制度，急诊期间接待来访、受理投诉，投诉电话(18906100399)。', '院办公室、党委办公室为综合接待受理、协调投诉科室，其它职能科室受理职权范围内的投诉。'],\n      'offices': ['门诊部：受理并协调解决门诊患者对于医生服务态度、医疗质量、物价医保等方面的投诉。受理地点：总服务台、门诊部主任办公室。投诉电话(0511-88619015、88619016)', '院办公室：受理行政事务与管理方面的投诉。投诉电话(0511-88619092)', '党委办公室：受理医德医风、职工违规违纪方面的投诉。投诉电话 (0511-88619093)', '人事科：受理职工劳动纪律方面的投诉。投诉电话(0511-88619091)', '医教科：受理医疗质量、医疗纠纷方面的投诉。投诉电话(0511-88619085)', '护理部：受理护理质量、护理纠纷方面的投诉。投诉电话(0511-88619089)', '财务科：受理医疗收费记账,医疗物价方面的投诉。投诉电话(0511-88619087)', '保卫科：受理医院安全方面的投诉。投诉电话(0511-88619086)', '总务科：受理后勤保障方面的投诉。投诉电话(0511-88619090)', '器械科：受理设备管理方面的投诉。投诉电话(0511-88619077)', '疾控科：受理院内感染方面的投诉。投诉电话(0511-88619084)', '药剂科：受理药品质量、价格及药事管理方面的投诉。投诉电话(0511-88619078)', '各系统、各科室受理本系统和科室范围内的投诉。', '其它应该受理的投诉问题由相应的职能部门受理。']\n    }\n    this.getCompaintsList(1)\n  },\n  methods: {\n    async getCompaintsList(pager = 1) {\n      this.loading = true\n      this.pageNum = pager\n      const {pageNum, pageSize} = this\n      var search = this.searchName\n      if (search === '') {\n        search = 'None'\n      }\n      console.log(search)\n      const res = await this.$API.flow.findCompaints(pageNum, pageSize, search)\n      if (res.code === 200) {\n        this.complaintPatientList = res.msg\n        this.total = res.total\n        this.loading = false\n      }\n    },\n    handleSizeChange(limit) {\n      this.pageSize = limit\n      this.getCompaintsList()\n    },\n    async handleReply() {\n      console.log(this.form)\n      const res = await this.$API.flow.updateCompaints(this.form)\n      if (res.code === 200) {\n        // 关闭表单\n        this.dialogFormVisible = false\n        // 消息提示\n        this.$message({\n          message: '修改成功!',\n          type: 'success'\n        }, await this.getCompaintsList(this.form.id ? this.pageNum : 1))\n      }\n    },\n    async handleAddComplaint() {\n      const res = await this.$API.flow.addCompaints(this.newComplaintForm)\n      if (res.code === 200) {\n        // 关闭表单\n        this.addComplaintFormVisible = false\n        // 消息提示\n        this.$message({\n          message: '添加成功!',\n          type: 'success'\n        }, await this.getCompaintsList(this.form.id ? this.pageNum : 1))\n      }\n    },\n    async deletePatient(row) {\n      this.$confirm(`你确定删除 ${row.patient_name} 吗?`, '删除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        const result = await this.$API.flow.delCompaints(row.id)\n        console.log(result)\n        if (result.code === 200) {\n          this.$notify({\n              type: 'success',\n              message: '删除成功!'\n            }, await this.getCompaintsList(this.complaintPatientList.length > 1 ? this.pageNum : this.pageNum - 1)\n          )\n        } else {\n          this.$notify({\n            type: 'warning',\n            message: '删除失败,请联系系统运维!'\n          })\n        }\n      }).catch(() => {\n        this.$notify({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    showForm(row) {\n      this.dialogFormVisible = true\n      this.form = {...row}\n      console.log('this.form')\n      console.log(this.form)\n    }\n  }\n}\n</script>\n\n<style>\n.importants h1 {\n  padding-top: 10px;\n  font-size: 22px;\n  margin: 0 0 20px 0;\n}\n\n.importants h2 {\n  font-size: 18px;\n  margin: 10px 0 30px 0;\n}\n\n.importants h3 {\n  color: red;\n  font-size: 14px;\n  padding: 0 0 10px 40px;\n}\n\n.importants li {\n  margin-left: 30px;\n  margin-bottom: 20px;\n}\n\n.el-table {\n  box-shadow: 0 15px 30px rgba(0, 0, 0, .2);\n  border-radius: 10px;\n}\n</style>\n"]}]}