{"remainingRequest":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/eslint-loader/index.js??ref--13-0!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/store/modules/user.js","dependencies":[{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/store/modules/user.js","mtime":1702208764608},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/babel.config.js","mtime":1700932419779},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1702214739870},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1702214743160},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/eslint-loader/index.js","mtime":1702214740536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgbG9nb3V0IGFzIF9sb2dvdXQsIGdldEluZm8gYXMgX2dldEluZm8gfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwoKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgdG9rZW46IGdldFRva2VuKCksCiAgICBuYW1lOiAnJywKICAgIGF2YXRhcjogJycsCiAgICB1c2VydHlwZTogJycKICB9Owp9OwoKdmFyIHN0YXRlID0gZ2V0RGVmYXVsdFN0YXRlKCk7CnZhciBtdXRhdGlvbnMgPSB7CiAgUkVTRVRfU1RBVEU6IGZ1bmN0aW9uIFJFU0VUX1NUQVRFKHN0YXRlKSB7CiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBnZXREZWZhdWx0U3RhdGUoKSk7CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBTRVRfTkFNRTogZnVuY3Rpb24gU0VUX05BTUUoc3RhdGUsIG5hbWUpIHsKICAgIHN0YXRlLm5hbWUgPSBuYW1lOwogIH0sCiAgU0VUX0FWQVRBUjogZnVuY3Rpb24gU0VUX0FWQVRBUihzdGF0ZSwgYXZhdGFyKSB7CiAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgfSwKICBTRVRfVVNFUlRZUEU6IGZ1bmN0aW9uIFNFVF9VU0VSVFlQRShzdGF0ZSwgdXNlcnR5cGUpIHsKICAgIHN0YXRlLnVzZXJ0eXBlID0gdXNlcnR5cGU7CiAgfSwKICBTRVRfTEFTVF9MT0dJTjogZnVuY3Rpb24gU0VUX0xBU1RfTE9HSU4oc3RhdGUsIGxhc3RMb2dpbikgewogICAgc3RhdGUubGFzdExvZ2luID0gbGFzdExvZ2luOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8gdXNlciBsb2dpbgogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgdmFyIHVzZXJuYW1lID0gdXNlckluZm8udXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSB1c2VySW5mby5wYXNzd29yZDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dpbih7CiAgICAgICAgImFjdGlvbiI6ICJzaWduaW4iLAogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS50cmltKCksCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIG1zZyA9IHJlc3BvbnNlLm1zZzsKICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIG1zZyk7CiAgICAgICAgc2V0VG9rZW4obXNnKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyBnZXQgdXNlciBpbmZvCiAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbyhfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2dldEluZm8oc3RhdGUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIG1zZyA9IHJlc3BvbnNlLm1zZzsKICAgICAgICB2YXIgX21zZyQgPSBtc2dbMF0sCiAgICAgICAgICAgIHVzZXJuYW1lID0gX21zZyQudXNlcm5hbWUsCiAgICAgICAgICAgIHVzZXJ0eXBlID0gX21zZyQudXNlcnR5cGU7CiAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIHVzZXJuYW1lKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSVFlQRScsIHVzZXJ0eXBlKTsKICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCAiaHR0cDovL3JjcTdyMDNqYi5oYi1ia3QuY2xvdWRkbi5jb20vZmQ4YWRkNDItZWVjNi00NDUxLTk5ZjYtNjc3YzI4ODg3YTkzLTIwMTUxMjcyMDI5Mjc1ODUwNi5naWYiKTsKICAgICAgICByZXNvbHZlKG1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyB1c2VyIGxvZ291dAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9nb3V0KHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICAgIHJlc2V0Um91dGVyKCk7CiAgICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIHJlbW92ZSB0b2tlbgogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAoKICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"names":["login","logout","getInfo","getToken","setToken","removeToken","resetRouter","getDefaultState","token","name","avatar","usertype","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","SET_AVATAR","SET_USERTYPE","SET_LAST_LOGIN","lastLogin","actions","userInfo","commit","username","password","Promise","resolve","reject","trim","then","response","msg","catch","error","resetToken","namespaced"],"sources":["/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/store/modules/user.js"],"sourcesContent":["import { login, logout, getInfo } from '@/api/user'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { resetRouter } from '@/router'\n\nconst getDefaultState = () => {\n  return {\n    token: getToken(),\n    name: '',\n    avatar: '',\n    usertype: ''\n  }\n}\n\nconst state = getDefaultState()\n\nconst mutations = {\n  RESET_STATE: (state) => {\n    Object.assign(state, getDefaultState())\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_NAME: (state, name) => {\n    state.name = name\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar\n  },\n  SET_USERTYPE: (state, usertype) => {\n    state.usertype = usertype\n  },\n  SET_LAST_LOGIN: (state, lastLogin) => {\n    state.lastLogin = lastLogin\n  }\n}\n\nconst actions = {\n  // user login\n  login({ commit }, userInfo) {\n    const { username, password } = userInfo\n    return new Promise((resolve, reject) => {\n      login({ \"action\": \"signin\",username: username.trim(), password: password }).then(response => {\n        const { msg } = response\n        commit('SET_TOKEN', msg)\n        setToken(msg)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // get user info\n  getInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getInfo(state.token).then(response => {\n        const { msg } = response\n        const { username, usertype } = msg[0]\n        commit('SET_NAME', username)\n        commit('SET_USERTYPE', usertype)\n        commit('SET_AVATAR', \"http://rcq7r03jb.hb-bkt.clouddn.com/fd8add42-eec6-4451-99f6-677c28887a93-201512720292758506.gif\")\n        resolve(msg)\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // user logout\n  logout({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      logout(state.token).then(() => {\n        removeToken() // must remove  token  first\n        resetRouter()\n        commit('RESET_STATE')\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      removeToken() // must remove  token  first\n      commit('RESET_STATE')\n      resolve()\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n"],"mappings":"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"}]}