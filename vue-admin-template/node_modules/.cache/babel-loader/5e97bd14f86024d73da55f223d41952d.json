{"remainingRequest":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/views/patientManage/shift.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/src/views/patientManage/shift.vue","mtime":1702207301128},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/babel.config.js","mtime":1700932419779},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1702214739870},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1702214743160},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1702214739870},{"path":"/Users/junjie/Documents/GitHub/Untitled/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":1702214743778}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2p1bmppZS9Eb2N1bWVudHMvR2l0SHViL1VudGl0bGVkL3Z1ZS1hZG1pbi10ZW1wbGF0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9qdW5qaWUvRG9jdW1lbnRzL0dpdEh1Yi9VbnRpdGxlZC92dWUtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvanVuamllL0RvY3VtZW50cy9HaXRIdWIvVW50aXRsZWQvdnVlLWFkbWluLXRlbXBsYXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0bWwyQ2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IGpzUERGIGZyb20gJ2pzcGRmJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd1c2VydHlwZSddKSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlOiBbXSwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHNlYXJjaE5hbWU6ICcnLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRpbmdSb3dJbmRleDogLTEsCiAgICAgIGZvcm06IHsKICAgICAgICBkYXRlOiAnJywKICAgICAgICBhcnJhbmdlOiAnJywKICAgICAgICBkb2N0b3JfaWQ6ICcnLAogICAgICAgIHJlYWxuYW1lOiAnJywKICAgICAgICBnZW5kZXI6ICcnLAogICAgICAgIHRlbGVwaG9uZTogJycsCiAgICAgICAgYXR0ZW5kYW5jZTogJycsCiAgICAgICAgcmVzcG9uc2U6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTaGlmdExpc3QoMSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTaGlmdExpc3Q6IGZ1bmN0aW9uIGdldFNoaWZ0TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYWdlciwgcGFnZU51bSwgcGFnZVNpemUsIHNlYXJjaCwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhZ2VyID0gX2FyZ3VtZW50cy5sZW5ndGggPiAwICYmIF9hcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMF0gOiAxOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlTnVtID0gcGFnZXI7CiAgICAgICAgICAgICAgICBwYWdlTnVtID0gX3RoaXMucGFnZU51bSwgcGFnZVNpemUgPSBfdGhpcy5wYWdlU2l6ZTsKICAgICAgICAgICAgICAgIHNlYXJjaCA9IF90aGlzLnNlYXJjaE5hbWU7CgogICAgICAgICAgICAgICAgaWYgKHNlYXJjaCA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgc2VhcmNoID0gJ05vbmUnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBUEkuZmxvdy5maW5kRHV0eShwYWdlTnVtLCBwYWdlU2l6ZSwgc2VhcmNoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZSA9IHJlcy5tc2c7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShsaW1pdCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gbGltaXQ7CiAgICAgIHRoaXMuZ2V0U2hpZnRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChyb3cpIHsKICAgICAgdGhpcy5mb3JtID0gX29iamVjdFNwcmVhZCh7fSwgcm93KTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICBoYW5kZWxTZWFyY2g6IGZ1bmN0aW9uIGhhbmRlbFNlYXJjaCgpIHsKICAgICAgdGhpcy5nZXRTaGlmdExpc3QoMSk7CiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQ6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkKCkgewogICAgICB2YXIgdGl0bGUgPSAn5YC854+t6KGoJzsKICAgICAgaHRtbDJDYW52YXMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BkZicpLCB7CiAgICAgICAgYWxsb3dUYWludDogdHJ1ZSwKICAgICAgICB0YWludFRlc3Q6IGZhbHNlLAogICAgICAgIHVzZUNPUlM6IHRydWUsCiAgICAgICAgeTogNzIsCiAgICAgICAgLy8g5a+5Wei9tOi/m+ihjOijgeWIhwogICAgICAgIC8vIHdpZHRoOjEyMDAsCiAgICAgICAgLy8gaGVpZ2h0OjUwMDAsCiAgICAgICAgZHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIDQsCiAgICAgICAgc2NhbGU6IDQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoY2FudmFzKSB7CiAgICAgICAgdmFyIGNvbnRlbnRXaWR0aCA9IGNhbnZhcy53aWR0aDsKICAgICAgICB2YXIgY29udGVudEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBjb250ZW50V2lkdGggLyA1OTIuMjggKiA4NDEuODk7CiAgICAgICAgdmFyIGxlZnRIZWlnaHQgPSBjb250ZW50SGVpZ2h0OwogICAgICAgIHZhciBwb3NpdGlvbiA9IDA7CiAgICAgICAgdmFyIGltZ1dpZHRoID0gNTk1LjI4OwogICAgICAgIHZhciBpbWdIZWlnaHQgPSA1OTIuMjggLyBjb250ZW50V2lkdGggKiBjb250ZW50SGVpZ2h0OwogICAgICAgIHZhciBwYWdlRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAxLjApOwogICAgICAgIHZhciBQREYgPSBuZXcganNQREYoJycsICdwdCcsICdhNCcpOwoKICAgICAgICBpZiAobGVmdEhlaWdodCA8IHBhZ2VIZWlnaHQpIHsKICAgICAgICAgIFBERi5hZGRJbWFnZShwYWdlRGF0YSwgJ0pQRUcnLCAwLCAwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2hpbGUgKGxlZnRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgIFBERi5hZGRJbWFnZShwYWdlRGF0YSwgJ0pQRUcnLCAwLCBwb3NpdGlvbiwgaW1nV2lkdGgsIGltZ0hlaWdodCk7CiAgICAgICAgICAgIGxlZnRIZWlnaHQgLT0gcGFnZUhlaWdodDsKICAgICAgICAgICAgcG9zaXRpb24gLT0gODQxLjg5OwoKICAgICAgICAgICAgaWYgKGxlZnRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgICAgUERGLmFkZFBhZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgUERGLnNhdmUodGl0bGUgKyAnLnBkZicpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmmL7npLrlhajpg6gKICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKCkgewogICAgICB0aGlzLnNlYXJjaE5hbWUgPSAnJzsKICAgICAgdGhpcy5nZXRTaGlmdExpc3QoMSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCJcdTRGNjBcdTc4NkVcdTVCOUFcdTUyMjBcdTk2NjQgIi5jb25jYXQocm93LnJlYWxuYW1lLCAiIFx1NTQxNz8iKSwgJ+WIoOmZpCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJEFQSS5mbG93LmRlbER1dHkocm93LmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX3RoaXMyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gewogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0U2hpZnRMaXN0KF90aGlzMi50YWJsZS5sZW5ndGggPiAxID8gX3RoaXMyLnBhZ2VOdW0gOiBfdGhpczIucGFnZU51bSAtIDEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDIgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAuJG5vdGlmeS5jYWxsKF9jb250ZXh0Mi50MCwgX2NvbnRleHQyLnQxLCBfY29udGV4dDIudDIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5aSx6LSlLOivt+iBlOezu+ezu+e7n+i/kOe7tCEnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa4heepugogICAgaGFuZGxlRGVsQWxsOiBmdW5jdGlvbiBoYW5kbGVEZWxBbGwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgiXHU0RjYwXHU3ODZFXHU1QjlBXHU2RTA1XHU3QTdBXHU1MDNDXHU3M0VEXHU4QkIwXHU1RjU1XHU1NDE3PyIsICfliKDpmaQnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRBUEkuZmxvdy5kZWxBbGxEdXR5KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF90aGlzMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5riF56m65oiQ5YqfIScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmdldFNoaWZ0TGlzdChfdGhpczMudGFibGUubGVuZ3RoID4gMSA/IF90aGlzMy5wYWdlTnVtIDogX3RoaXMzLnBhZ2VOdW0gLSAxKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQyID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwLiRub3RpZnkuY2FsbChfY29udGV4dDMudDAsIF9jb250ZXh0My50MSwgX2NvbnRleHQzLnQyKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pSzor7fogZTns7vns7vnu5/ov5Dnu7QhJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqAKICAgIGhhbmRlbENyZWF0ZTogZnVuY3Rpb24gaGFuZGVsQ3JlYXRlKCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtQ2xlYXIoKTsKICAgIH0sCiAgICAvLyDmt7vliqDmj5DkuqQKICAgIGhhbmRsZUNyZWF0ZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlQ3JlYXRlU3VibWl0KGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlcywgX3JlczsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kQVBJLmZsb3cudXBkYXRlX0R1dHkoX3RoaXM0LmZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuY29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDlhbPpl63ooajljZUKICAgICAgICAgICAgICAgIF90aGlzNC5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOyAvLyDmtojmga/mj5DnpLoKCiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfdGhpczQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8hJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0U2hpZnRMaXN0KF90aGlzNC5mb3JtLmlkID8gX3RoaXM0LnBhZ2VOdW0gOiAxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MiA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MC4kbWVzc2FnZS5jYWxsKF9jb250ZXh0NC50MCwgX2NvbnRleHQ0LnQxLCBfY29udGV4dDQudDIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJEFQSS5mbG93LmFkZF9EdXR5KF90aGlzNC5mb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShfcmVzLmNvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g5YWz6Zet6KGo5Y2VCiAgICAgICAgICAgICAgICBfdGhpczQuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsgLy8g5raI5oGv5o+Q56S6CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQzID0gX3RoaXM0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQ0ID0gewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfIScsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldFNoaWZ0TGlzdChfdGhpczQuZm9ybS5pZCA/IF90aGlzNC5wYWdlTnVtIDogMSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDUgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dDQudDMuJG1lc3NhZ2UuY2FsbChfY29udGV4dDQudDMsIF9jb250ZXh0NC50NCwgX2NvbnRleHQ0LnQ1KTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOa4heepuuihqOWNlQogICAgZm9ybUNsZWFyOiBmdW5jdGlvbiBmb3JtQ2xlYXIoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBkYXRlOiAnJywKICAgICAgICBhcnJhbmdlOiAnJywKICAgICAgICBkb2N0b3JfaWQ6ICcnLAogICAgICAgIHJlYWxuYW1lOiAnJywKICAgICAgICBnZW5kZXI6ICcnLAogICAgICAgIHRlbGVwaG9uZTogJycsCiAgICAgICAgYXR0ZW5kYW5jZTogJycsCiAgICAgICAgcmVzcG9uc2U6ICcnCiAgICAgIH07CiAgICB9LAogICAgLy8g6YeN572u6KGo5Y2VCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGRhdGU6ICcnLAogICAgICAgIGFycmFuZ2U6ICcnLAogICAgICAgIGRvY3Rvcl9pZDogJycsCiAgICAgICAgcmVhbG5hbWU6ICcnLAogICAgICAgIGdlbmRlcjogJycsCiAgICAgICAgdGVsZXBob25lOiAnJywKICAgICAgICBhdHRlbmRhbmNlOiAnJywKICAgICAgICByZXNwb25zZTogJycKICAgICAgfTsKICAgICAgdGhpcy5lZGl0aW5nUm93SW5kZXggPSAtMTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["computed","mapGetters","data","table","pageNum","pageSize","total","loading","searchName","dialogFormVisible","editingRowIndex","form","date","arrange","doctor_id","realname","gender","telephone","attendance","response","mounted","methods","getShiftList","pager","search","res","handleSizeChange","limit","handleEdit","row","handelSearch","handleDownload","html2Canvas","allowTaint","taintTest","useCORS","y","dpi","scale","then","PDF","leftHeight","position","getAll","handleDelete","confirmButtonText","cancelButtonText","type","result","message","$notify","catch","handleDelAll","handelCreate","handleCreateSubmit","id","$message","formClear","resetForm"],"sourceRoot":"src/views/patientManage","sources":["shift.vue"],"sourcesContent":["<template>\n  <div class=\"shift\">\n    <div class=\"title\">\n    </div>\n    <div class=\"search\">\n      <el-input style=\"width: 200px;\" class=\"filter-item\" placeholder=\"请输入姓名\" v-model=\"searchName\"></el-input>\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handelSearch\">搜索</el-button>\n      <el-button type=\"primary\" icon=\"\" @click=\"getAll\">显示全部</el-button>\n      <el-button v-if=\"usertype===1\" class=\"filter-item\" type=\"primary\" @click=\"handelCreate\" icon=\"el-icon-edit\">添加</el-button>\n      <el-button v-if=\"usertype===1\" class=\"filter-item\" type=\"primary\" @click=\"handleDelAll\" icon=\"el-icon-delete\">清空</el-button>\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-share\" @click=\"handleDownload\">导出</el-button>\n    </div>\n\n    <el-table id=\"pdf\" :header-cell-style=\"{background:'#f5f7fa',color:'#606266'}\" :data=\"table\" border style=\"width: 100%\"\n              height=\"400\">\n      <el-table-column fixed=\"left\" type=\"index\" label=\"序号\" align=\"center\" width=\"70\"/>\n      <el-table-column prop=\"date\" fixed label=\"日期\" width=\"120\"/>\n      <el-table-column prop=\"arrange\" label=\"时段\" width=\"200\"/>\n      <el-table-column prop=\"doctor_id\" label=\"医生ID\" width=\"150\"/>\n      <el-table-column prop=\"realname\" label=\"姓名\" width=\"150\"/>\n      <el-table-column prop=\"gender\" label=\"性别\" width=\"150\"/>\n      <el-table-column prop=\"telephone\" label=\"电话号码\" width=\"150\"/>\n      <el-table-column prop=\"attendance\" label=\"出勤情况\" width=\"120\"/>\n      <el-table-column prop=\"response\" label=\"负责人\" width=\"120\"/>\n      <el-table-column align=\"center\" label=\"操作\" fixed=\"right\" width=\"200px\">\n        <template v-slot=\"{row}\">\n          <el-button size=\"small\" @click=\"handleEdit(row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      background\n      style=\"margin-top: 20px;text-align: center\"\n      :current-page=\"pageNum\"\n      :page-size=\"pageSize\"\n      :total=\"total\"\n      :pager-count=\"10\"\n      :page-sizes=\"[10,15,30]\"\n      layout=\"prev,pager,next,jumper,->,sizes,total\"\n      @current-change=\"getShiftList\"\n      @size-change=\"handleSizeChange\"\n    />\n    <!-- 对话框 -->\n    <el-dialog\n      :title=\"form.id ? '修改值班信息':'新增值班信息'\"\n      :visible.sync=\"dialogFormVisible\"\n      width=\"50%\"\n      @close=\"resetForm\"\n    >\n      <el-form :model=\"form\" ref=\"formData\" label-width=\"80px\" style=\"margin-bottom: 20px;\">\n        <el-form-item label=\"日期\">\n          <el-date-picker v-model=\"form.date\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"时段\">\n          <el-select v-model=\"form.arrange\" placeholder=\"选择时段\">\n            <el-option label=\"早班8:00-12:00\" value=\"早班8:00-12:00\"></el-option>\n            <el-option label=\"午班12:00-18:00\" value=\"午班12:00-18:00\"></el-option>\n            <el-option label=\"晚班18:00-24:00\" value=\"晚班18:00-24:00\"></el-option>\n            <el-option label=\"夜班0:00-8:00\" value=\"夜班0:00-8:00\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"医生ID\">\n          <el-input v-model=\"form.doctor_id\" placeholder=\"请输入医生ID\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\">\n          <el-input v-model=\"form.realname\" placeholder=\"请输入姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio-group v-model=\"form.gender\">\n            <el-radio label=\"male\">男</el-radio>\n            <el-radio label=\"female\">女</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"电话号码\">\n          <el-input v-model=\"form.telephone\" placeholder=\"请输入电话号码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"出勤情况\">\n          <el-select v-model=\"form.attendance\" placeholder=\"选择出勤情况\">\n            <el-option label=\"迟到\" value=\"迟到\"></el-option>\n            <el-option label=\"按时值班\" value=\"按时值班\"></el-option>\n            <el-option label=\"请假\" value=\"请假\"></el-option>\n            <el-option label=\"旷工\" value=\"旷工\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"负责人\">\n          <el-input v-model=\"form.response\" placeholder=\"请输入负责人\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleCreateSubmit(form.id)\">确 定</el-button>\n        <el-button type=\"primary\" @click=\"formClear\">重置</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\nimport html2Canvas from 'html2canvas'\nimport jsPDF from 'jspdf'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapGetters([\n      'usertype'\n    ])\n  },\n  data() {\n    return {\n      table: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      loading: false,\n      searchName: '',\n      dialogFormVisible: false,\n      editingRowIndex: -1,\n      form: {\n        date: '',\n        arrange: '',\n        doctor_id: '',\n        realname: '',\n        gender: '',\n        telephone: '',\n        attendance: '',\n        response: ''\n      }\n    }\n  },\n  mounted() {\n    this.getShiftList(1)\n  },\n  methods: {\n    async getShiftList(pager = 1) {\n      this.loading = true\n      this.pageNum = pager\n      const { pageNum, pageSize } = this\n      var search = this.searchName\n      if (search === '') {\n        search = 'None'\n      }\n      const res = await this.$API.flow.findDuty(pageNum, pageSize, search)\n      if (res.code === 200) {\n        this.table = res.msg\n        this.total = res.total\n        this.loading = false\n      }\n    },\n    handleSizeChange(limit) {\n      this.pageSize = limit\n      this.getShiftList()\n    },\n    handleEdit(row) {\n      this.form = {...row}\n      this.dialogFormVisible = true\n    },\n    // 搜索\n    handelSearch() {\n      this.getShiftList(1)\n    },\n    handleDownload() {\n      var title = '值班表'\n      html2Canvas(document.querySelector('#pdf'), {\n        allowTaint: true,\n        taintTest: false,\n        useCORS: true,\n        y: 72, // 对Y轴进行裁切\n        // width:1200,\n        // height:5000,\n        dpi: window.devicePixelRatio * 4,\n        scale: 4\n      }).then(function (canvas) {\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        let pageHeight = contentWidth / 592.28 * 841.89\n        let leftHeight = contentHeight\n        let position = 0\n        let imgWidth = 595.28\n        let imgHeight = 592.28 / contentWidth * contentHeight\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\n        let PDF = new jsPDF('', 'pt', 'a4')\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        PDF.save(title + '.pdf')\n      })\n    },\n    // 显示全部\n    getAll() {\n      this.searchName = ''\n      this.getShiftList(1)\n    },\n    // 删除\n    handleDelete(row) {\n      this.$confirm(`你确定删除 ${row.realname} 吗?`, '删除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        const result = await this.$API.flow.delDuty(row.id)\n        if (result.code === 200) {\n          this.$notify({\n              type: 'success',\n              message: '删除成功!'\n            }, await this.getShiftList(this.table.length > 1 ? this.pageNum : this.pageNum - 1)\n          )\n        } else {\n          this.$notify({\n            type: 'warning',\n            message: '删除失败,请联系系统运维!'\n          })\n        }\n      }).catch(() => {\n        this.$notify({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    // 清空\n    handleDelAll() {\n      this.$confirm(`你确定清空值班记录吗?`, '删除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        const result = await this.$API.flow.delAllDuty()\n        if (result.code === 200) {\n          this.$notify({\n              type: 'success',\n              message: '清空成功!'\n            }, await this.getShiftList(this.table.length > 1 ? this.pageNum : this.pageNum - 1)\n          )\n        } else {\n          this.$notify({\n            type: 'warning',\n            message: '删除失败,请联系系统运维!'\n          })\n        }\n      }).catch(() => {\n        this.$notify({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    },\n    // 添加\n    handelCreate() {\n      this.dialogFormVisible = true\n      this.formClear()\n    },\n    // 添加提交\n    async handleCreateSubmit(id) {\n      if (id) {\n        const res = await this.$API.flow.update_Duty(this.form)\n        if (res.code === 200) {\n          // 关闭表单\n          this.dialogFormVisible = false\n          // 消息提示\n          this.$message({\n            message: '修改成功!',\n            type: 'success'\n          }, await this.getShiftList(this.form.id ? this.pageNum : 1))\n        }\n      } else {\n        const res = await this.$API.flow.add_Duty(this.form)\n        if (res.code === 200) {\n          // 关闭表单\n          this.dialogFormVisible = false\n          // 消息提示\n          this.$message({\n            message: '添加成功!',\n            type: 'success'\n          }, await this.getShiftList(this.form.id ? this.pageNum : 1))\n        }\n      }\n    },\n    // 清空表单\n    formClear() {\n      this.form = {\n        date: '',\n        arrange: '',\n        doctor_id: '',\n        realname: '',\n        gender: '',\n        telephone: '',\n        attendance: '',\n        response: ''\n      }\n    },\n    // 重置表单\n    resetForm() {\n      this.form = {\n        date: '',\n        arrange: '',\n        doctor_id: '',\n        realname: '',\n        gender: '',\n        telephone: '',\n        attendance: '',\n        response: ''\n      }\n      this.editingRowIndex = -1\n    }\n  }\n}\n</script>\n\n<style>\n.shift {\n  height: 700px;\n  width: 1160px;\n  background-color: white;\n  box-shadow: 0 15px 30px rgba(0, 0, 0, .3);\n}\n\n.search {\n  padding: 30px;\n  padding-bottom: 10px;\n}\n\n.el-button {\n  margin-left: 10px;\n  margin-bottom: 30px;\n  border-radius: 10%;\n  margin-left: 30px;\n}\n</style>\n"]}]}